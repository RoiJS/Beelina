"use strict";(self.webpackChunkBeelina_APP=self.webpackChunkBeelina_APP||[]).push([[833],{9833:(Q,B,e)=>{e.r(B),e.d(B,{BarangaysModule:()=>Z});var u=e(6814),I=e(5154),p=e(4221),g=e(2741),l=e(6223),S=e(617),C=e(2032),h=e(7988),d=e(9515),A=e(8005),v=e(2939),O=e(6924),E=e(4190),T=e(5510),c=e(6347),N=e(803);class L extends N.y{constructor(m){super(m),this.store=m,this.store.dispatch(c.V6()),this._subscription.add(this.store.pipe((0,p.select)(T.d2)).subscribe(n=>{this._dataStream.next(n)}))}fetchData(){this.store.dispatch(c.V6())}}var M=e(8897),_=e(9241),D=e(9014),t=e(5879),G=e(2217),R=e(5253),P=e(2296),x=e(4170);let Y=(()=>{class i{constructor(n,a,r,o,s,f,y){this._bottomSheetRef=n,this.barangayService=a,this.dialogService=r,this.data=o,this.formBuilder=s,this.snackBarService=f,this.translateService=y,this.setUpLanguageTexts(0===this.data.barangay.id),this._barangayForm=this.formBuilder.group({name:[o.barangay.name,[l.kI.required]]})}ngOnInit(){}onSave(){if(this._barangayForm.markAllAsTouched(),this._barangayForm.valid){const n=this._barangayForm.get("name").value,a=this.data.barangay.id,r=new _.T;r.name=n,r.id=a,this.dialogService.openConfirmation(this.dialogTitle,this._dialogConfirmationMessage).subscribe(o=>{o===D.E.YES&&this.barangayService.updateBarangay(r).subscribe({complete:()=>{this.snackBarService.open(this._dialogSuccessMessage,this.translateService.instant("GENERAL_TEXTS.CLOSE"),{duration:5e3}),this._bottomSheetRef.dismiss(!0)},error:s=>{this.snackBarService.open(this._dialogErrorMessage,this.translateService.instant("GENERAL_TEXTS.CLOSE"),{duration:5e3}),this._bottomSheetRef.dismiss(!1)}})})}}onCancel(){this._bottomSheetRef.dismiss()}setUpLanguageTexts(n){n?(this._dialogTitle=this.translateService.instant("BARANGAYS_PAGE.ADD_BARANGAY_DIALOG.TITLE"),this._dialogConfirmationMessage=this.translateService.instant("BARANGAYS_PAGE.ADD_BARANGAY_DIALOG.CONFIRM"),this._dialogSuccessMessage=this.translateService.instant("BARANGAYS_PAGE.ADD_BARANGAY_DIALOG.SUCCESS_MESSAGE"),this._dialogErrorMessage=this.translateService.instant("BARANGAYS_PAGE.ADD_BARANGAY_DIALOG.ERROR_MESSAGE")):(this._dialogTitle=this.translateService.instant("BARANGAYS_PAGE.UPDATE_BARANGAY_DIALOG.TITLE"),this._dialogConfirmationMessage=this.translateService.instant("BARANGAYS_PAGE.UPDATE_BARANGAY_DIALOG.CONFIRM"),this._dialogSuccessMessage=this.translateService.instant("BARANGAYS_PAGE.UPDATE_BARANGAY_DIALOG.SUCCESS_MESSAGE"),this._dialogErrorMessage=this.translateService.instant("BARANGAYS_PAGE.UPDATE_BARANGAY_DIALOG.ERROR_MESSAGE"))}get dialogTitle(){return this._dialogTitle}get barangayForm(){return this._barangayForm}static#t=this.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(A.oL),t.\u0275\u0275directiveInject(G.v),t.\u0275\u0275directiveInject(R.x),t.\u0275\u0275directiveInject(A.OG),t.\u0275\u0275directiveInject(l.qu),t.\u0275\u0275directiveInject(v.ux),t.\u0275\u0275directiveInject(d.sK))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["app-manage-barangay"]],decls:20,vars:11,consts:[[1,"manage-barangay-container"],[1,"manage-barangay-container__header"],[3,"click"],[1,"manage-barangay-container__body",3,"formGroup"],["appearance","fill"],["matInput","","formControlName","name"],[1,"manage-barangay-container__footer"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","default",3,"click"]],template:function(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-icon",2),t.\u0275\u0275listener("click",function(){return r.onCancel()}),t.\u0275\u0275text(5,"cancel"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(11,"input",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",6)(13,"div",7)(14,"button",8),t.\u0275\u0275listener("click",function(){return r.onSave()}),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"button",9),t.\u0275\u0275listener("click",function(){return r.onCancel()}),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()()()),2&a&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(r.dialogTitle),t.\u0275\u0275advance(3),t.\u0275\u0275property("formGroup",r.barangayForm),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(10,5,"BARANGAYS_PAGE.ADD_BARANGAY_DIALOG.FORM_CONTROL_SECTION.NAME_CONTROL.LABEL"),":"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,7,"GENERAL_TEXTS.CONFIRM")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,9,"GENERAL_TEXTS.CLOSE")," "))},dependencies:[P.lW,S.Hw,C.Nt,x.KE,x.hX,l.Fj,l.JJ,l.JL,l.sg,l.u,d.X$],styles:[".manage-barangay-container[_ngcontent-%COMP%]{height:30vh;display:flex;flex-direction:column}.manage-barangay-container__header[_ngcontent-%COMP%]{font-size:16px;padding:15px;background-color:#d89c2a;color:#fff;display:flex;justify-content:space-between}.manage-barangay-container__body[_ngcontent-%COMP%]{flex:1;padding:15px;display:flex;flex-direction:column;justify-content:space-evenly}.manage-barangay-container__body[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.manage-barangay-container__footer[_ngcontent-%COMP%]{display:flex;padding:15px}.manage-barangay-container__footer[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%}.manage-barangay-container__footer[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%}"]})}return i})();var F=e(6610),V=e(7673),j=e(3427),X=e(3018),U=e(5180),b=e(3680);function $(i,m){if(1&i){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const r=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.deleteBarangay(r.id))}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2,"delete"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()}2&i&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,1,"GENERAL_TEXTS.REMOVE")," "))}function k(i,m){if(1&i){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",10)(2,"div",11),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.goToCustomers(o.name))}),t.\u0275\u0275elementStart(3,"div",12)(4,"mat-icon"),t.\u0275\u0275text(5,"place"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"div",13),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.goToCustomers(o.name))}),t.\u0275\u0275elementStart(7,"label",14),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",15)(10,"mat-icon",16),t.\u0275\u0275text(11,"more_vert"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"mat-menu",null,17)(14,"button",18),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.updateBarangay(o))}),t.\u0275\u0275elementStart(15,"mat-icon",19),t.\u0275\u0275text(16,"border_color"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(19,$,5,3,"button",20),t.\u0275\u0275elementStart(20,"button",18),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.goToCustomers(o.name))}),t.\u0275\u0275elementStart(21,"mat-icon",21),t.\u0275\u0275text(22,"store"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(23),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275elementEnd()()()()()}if(2&i){const n=m.$implicit,a=t.\u0275\u0275reference(13);t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(n.name),t.\u0275\u0275advance(2),t.\u0275\u0275property("matMenuTriggerFor",a),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,5,"GENERAL_TEXTS.EDIT")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isDeletable),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(24,7,"GENERAL_TEXTS.STORES")," ")}}const H=[{path:"",component:(()=>{class i extends M.H{constructor(n,a,r,o,s,f,y){super(),this.barangayService=n,this.bottomSheet=a,this.dialogService=r,this.router=o,this.snackBarService=s,this.store=f,this.translateService=y,this._dataSource=new L(this.store),this.$isLoading=this.store.pipe((0,p.select)(T.VO))}ngOnInit(){}ngOnDestroy(){this.store.dispatch(c.uZ())}onSearch(n){this.store.dispatch(c.uZ()),this.store.dispatch(c.hu({keyword:n})),this.store.dispatch(c.V6())}addBarangay(){this.openBarangayDialog(new _.T)}updateBarangay(n){this.openBarangayDialog(n)}openBarangayDialog(n){this._manageBarangayDialogRef&&(this._manageBarangayDialogRef=null),this._manageBarangayDialogRef=this.bottomSheet.open(Y,{data:{barangay:n}}),this._manageBarangayDialogRef.afterDismissed().subscribe(a=>{a&&(this.store.dispatch(c.b()),this.store.dispatch(c.V6()))})}deleteBarangay(n){this.dialogService.openConfirmation(this.translateService.instant("BARANGAYS_PAGE.DELETE_BARANGAY_DIALOG.TITLE"),this.translateService.instant("BARANGAYS_PAGE.DELETE_BARANGAY_DIALOG.CONFIRM")).subscribe(a=>{a&&this.barangayService.deleteBarangay(n).subscribe({complete:()=>{this.snackBarService.open(this.translateService.instant("BARANGAYS_PAGE.DELETE_BARANGAY_DIALOG.SUCCESS_MESSAGE"),this.translateService.instant("GENERAL_TEXTS.CLOSE"),{duration:5e3}),this.store.dispatch(c.b()),this.store.dispatch(c.V6())},error:r=>{this.snackBarService.open(this.translateService.instant("BARANGAYS_PAGE.DELETE_BARANGAY_DIALOG.ERROR_MESSAGE"),this.translateService.instant("GENERAL_TEXTS.CLOSE"),{duration:5e3})}})})}goToCustomers(n){this.router.navigate([`barangays/${n}`])}get dataSource(){return this._dataSource}static#t=this.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(G.v),t.\u0275\u0275directiveInject(A.ch),t.\u0275\u0275directiveInject(R.x),t.\u0275\u0275directiveInject(E.F0),t.\u0275\u0275directiveInject(v.ux),t.\u0275\u0275directiveInject(p.Store),t.\u0275\u0275directiveInject(d.sK))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["app-barangays"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:18,vars:18,consts:[[3,"showBackButton","title"],[3,"busy"],[1,"page-container","slide-in-left-animation"],[1,"page-container__page-divider","scale-in-center-animation"],[1,"page-information-description"],[3,"placeHolderTextIdentifier","onSearch"],[3,"templateType","count"],["itemSize","10",1,"list-container","barangays-list"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"icon","tapButton"],["matRipple","",1,"list-container__item-section"],[1,"list-container__icon-section","list-container__icon-section--right-space",3,"click"],[1,"list-container__icon-section--icon-container"],[1,"list-container__details-section",3,"click"],[1,"main-label"],[1,"list-container__options-section"],["matRipple","",1,"option",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","matRipple","",3,"click"],["matRipple","",1,"option"],["mat-menu-item","","matRipple","",3,"click",4,"ngIf"],["matRipple",""]],template:function(a,r){1&a&&(t.\u0275\u0275element(0,"app-tool-bar",0),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"app-loader-layout",1),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"label"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(9,"br"),t.\u0275\u0275elementStart(10,"span",4),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"app-search-field",5),t.\u0275\u0275listener("onSearch",function(s){return r.onSearch(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"app-list-container",6)(15,"cdk-virtual-scroll-viewport",7),t.\u0275\u0275template(16,k,25,9,"div",8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"app-floating-button",9),t.\u0275\u0275listener("tapButton",function(){return r.addBarangay()}),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275property("showBackButton",!1)("title",t.\u0275\u0275pipeBind1(1,10,"GENERAL_TEXTS.BEELINA")),t.\u0275\u0275advance(2),t.\u0275\u0275property("busy",t.\u0275\u0275pipeBind1(3,12,r.$isLoading)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,14,"BARANGAYS_PAGE.TITLE")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,16,"BARANGAYS_PAGE.DESCRIPTION")),t.\u0275\u0275advance(2),t.\u0275\u0275property("placeHolderTextIdentifier","BARANGAYS_PAGE.SEARCH_TEXT_FIELD.PLACEHOLDER"),t.\u0275\u0275advance(1),t.\u0275\u0275property("templateType",r.emptyEntityTemplateEnum.CUSTOMERS)("count",r.dataSource.itemCount),t.\u0275\u0275advance(2),t.\u0275\u0275property("cdkVirtualForOf",r.dataSource),t.\u0275\u0275advance(1),t.\u0275\u0275property("icon","add"))},dependencies:[u.O5,F.l,V.X,j.o,X.w,U.r,S.Hw,b.wG,h.VK,h.OP,h.p6,g.xd,g.x0,g.N7,u.Ov,d.X$],styles:[".barangays-list[_ngcontent-%COMP%]{height:75vh}"]})}return i})(),title:"BARANGAYS_PAGE.TITLE"},{path:":barangay",loadChildren:()=>Promise.all([e.e(592),e.e(56)]).then(e.bind(e,4429)).then(i=>i.CustomerModule)}];let z=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:i});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[E.Bz.forChild(H),E.Bz]})}return i})();var K=e(2805),J=e(2812);let Z=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:i});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[u.ez,O._,z,C.c,v.ZX,S.Ps,b.si,A._r,l.UX,h.Tx,g.Cl,p.StoreModule.forFeature("barangays",K.l),I.sQ.forFeature([J.C]),d.aw.forChild()]})}return i})()}}]);